{
  "last_updated": "2024-09-17T14:37:05.000Z",
  "activity": [
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8480",
      "time": "2024-09-17T14:37:05.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2356053121",
      "text": "> Hey, could you push the current changes?\r\n\r\nDone ðŸ‘ "
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8480",
      "time": "2024-09-09T15:49:04.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2338477504",
      "text": "> Did you try passing a `key` prop to the img. component?\r\n\r\nNever mind, I cleared my browser cache/restarted the dev server and it's working (persists across page reload). Only other issue is the change not reflecting on FacilityCard (if the user navigates thru back button or breadcrumb menu instead of reloading)."
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8480",
      "time": "2024-09-09T08:39:58.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2337493701",
      "text": "> I don't see any type errors in `Force-Revalidate: random number as string` method.\r\n> \r\n> Numbers can't be set as header value. However, number as strings can be.\r\n> <img alt=\"image\" width=\"802\" src=\"https://private-user-images.githubusercontent.com/25143503/365390851-19886cd1-f4e0-41dd-a961-162c43c9b184.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjU4Njk1MjksIm5iZiI6MTcyNTg2OTIyOSwicGF0aCI6Ii8yNTE0MzUwMy8zNjUzOTA4NTEtMTk4ODZjZDEtZjRlMC00MWRkLWE5NjEtMTYyYzQzYzliMTg0LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MDklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTA5VDA4MDcwOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTgzZmY0NzQ3YzI1NTMzZjdiNGZiYzE2Y2UwZTBkYTkwYWIxMGRiOTI2OGU3MzdhNGI1NmZjZjlmYThlMmUxZTQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.CImqAlWuuVbyy1iAXdbE_6tKLBYqATfrgURDkHlX8Rs\">\r\n\r\nAh ok, thanks!\r\n\r\nWouldn't this require `Vary: Forced-Revalidate` on S3? Anyways, I tried with `Forced-Revalidate: 1`. But, I'm getting the same result as (2) in my reply above; new image is pulled by the fetch req in the network tab/dev tools, but only reflected on screen if I append a timestamp to the url. Cache doesn't seem to be updated as the change doesn't persist across page reload."
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8480",
      "time": "2024-09-07T13:12:02.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2335183118",
      "text": "> No, you just need to simply send a fetch request to the signed URL of the image with that vary header, so that browser would invalidate it's cache. Therefore leading to the image component to render the new image as the new image is fetched instead of the old cached one.\r\n> \r\n> Nothing to do with calling any APIs.\r\n\r\n(1) Couldn't use the fetch + vary method as the HeadersInit type doesn't support it \r\n> Type '{ \"Forced-Revalidate\": number; }' is not assignable to type 'HeadersInit | undefined'.\r\n\r\n(2) Tried fetch + cache:reload instead. Checking the network tab, it does pull the new version of the image, however I had to append timestamp to have it reflect on page (I tried changing image src directly using getElementById, but that didn't reflect on screen). fetchImage is called on save of the Edit Cover Image Modal/Popup.\r\n\r\nIt doesn't seem to update the cache though, since the change doesn't persist across page reload.\r\n\r\n<img width=\"482\" alt=\"image\" src=\"https://github.com/user-attachments/assets/04dc6595-6df7-4d62-a083-88212012887b\">\r\n\r\nhttps://stackoverflow.com/questions/1077041/refresh-image-with-a-new-one-at-the-same-url/22429796#22429796 mentions few other solutions, including just using timestamp on img src directly, however that would mean storing multiple copies of the same image on cache."
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8480",
      "time": "2024-09-06T08:34:27.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2333535476",
      "text": "> you'll have to use fetch directly to achieve this since the image url is not a defined api route right? useQuery/request requires an API route to be defined, and the image url is not an API route.\r\n\r\n@rithviknishad Oh, I meant moving out the facilityData useQuery to a fetch req (since cover image url is part of that object). Hmm, as for fetching the image url directly, that would require modifications on the backend, right?"
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8480",
      "time": "2024-09-06T04:29:35.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2333212010",
      "text": "@rithviknishad Hmm, since useQuery doesn't support a header parameter, I'd either need to replace it with a fetch outside or modify RequestOptions interface and request function to support header property (preferring the former since it touches less code). Does that sound right, or is there an alternative option?"
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8489",
      "time": "2024-09-05T07:15:17.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/pull/8489#issuecomment-2330780038",
      "text": "Converting back to draft as I just saw the comment about cache invalidation https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2330713632"
    },
    {
      "type": "pr_opened",
      "title": "ohcnetwork/care_fe#8489",
      "time": "2024-09-05T07:11:50.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/pull/8489",
      "text": "Remove tooltip after Cover Image Load"
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#8480",
      "time": "2024-09-05T05:54:31.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/issues/8480#issuecomment-2330660606",
      "text": "@nihal467 Can you assign this issue to me? Thx."
    },
    {
      "type": "pr_collaborated",
      "title": "ohcnetwork/care_fe#8256",
      "time": "2024-08-05T17:52:16.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/pull/8256",
      "text": "Production release v24.32.0",
      "collaborated_with": [
        "rithviknishad",
        "ahmedobaid23",
        "o",
        "i",
        "A",
        "NitinPSingh",
        "Jacobjeevan",
        "sainak",
        "AnkurPrabhu",
        "khavinshankar"
      ]
    },
    {
      "type": "pr_collaborated",
      "title": "ohcnetwork/care_fe#8238",
      "time": "2024-08-01T09:01:11.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/pull/8238",
      "text": "Merge Develop to Staging v24.32.0",
      "collaborated_with": [
        "rithviknishad",
        "ahmedobaid23",
        "o",
        "i",
        "A",
        "NitinPSingh",
        "Jacobjeevan",
        "sainak",
        "AnkurPrabhu"
      ]
    },
    {
      "type": "pr_collaborated",
      "title": "ohcnetwork/care_fe#7914",
      "time": "2024-08-01T05:46:50.000Z",
      "link": "https://github.com/ohcnetwork/care_fe/pull/7914",
      "text": "Consultation Form Enhancement: No home facility docs",
      "collaborated_with": [
        "Jacobjeevan",
        "rithviknishad"
      ]
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#7914",
      "time": "2024-06-05T08:15:01+00:00",
      "link": "https://github.com/ohcnetwork/care_fe/pull/7914#issuecomment-2149171295",
      "text": "@khavinshankar Sure, I haven't had much success with triggering/displaying the drop down results. My approach has been to call fetchOptions under onClick (which I added as prop added to UserAutocompleteFormField.Autocomplete and called under Combobox.Input).\r\n\r\n<img width=\"514\" alt=\"image\" src=\"https://github.com/ohcnetwork/care_fe/assets/40040905/95dab763-6bbf-4bbe-b7de-b77e8a232111\">\r\n\r\n<img width=\"514\" alt=\"image\" src=\"https://github.com/ohcnetwork/care_fe/assets/40040905/e8387817-d79b-4015-a208-b17d7378b745\">\r\n\r\nAlternatively, I have been able to prefetch results using useQuery in UserAutocompleteFormField, although I'm unsure on how to attach that to options and trigger the dropdown."
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#7914",
      "time": "2024-06-03T04:29:45+00:00",
      "link": "https://github.com/ohcnetwork/care_fe/pull/7914#issuecomment-2144256029",
      "text": "> > ```\r\n> > * [ ]  As per the issue, when we click on the component, it should pre-fetch the data, not just when we start typing in the component.\r\n> > ```\r\n> \r\n> I've been able to use useQuery to prefetch the data, however I haven't had much success in displaying the results as a dropdown (trying to tie to onClick event in Autocomplete component). Any pointers on how to achieve that?\r\n> \r\n> Alternatively I could use the prefetched data and just disable the component and display placeholder text, as you had originally envisioned (and remove the notifications as well).\r\n\r\n@nihal467 Pinging for followup, thanks."
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#7914",
      "time": "2024-05-29T10:15:06+00:00",
      "link": "https://github.com/ohcnetwork/care_fe/pull/7914#issuecomment-2137056931",
      "text": "\r\n>     * [ ]  As per the issue, when we click on the component, it should pre-fetch the data, not just when we start typing in the component.\r\n\r\nI've been able to use useQuery to prefetch the data, however I haven't had much success in displaying the results as a dropdown (trying to tie to onClick event in Autocomplete component). Any pointers on how to achieve that?\r\n\r\nAlternatively I could use the prefetched data and just disable the component and display placeholder text, as you had originally envisioned (and remove the notifications as well).\r\n\r\n"
    },
    {
      "type": "pr_opened",
      "title": "ohcnetwork/care_fe#7914",
      "time": "2024-05-27T14:31:58+00:00",
      "link": "https://github.com/ohcnetwork/care_fe/pull/7914",
      "text": "Consultation Form Enhancement: No home facility docs"
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#7854",
      "time": "2024-05-27T09:17:16+00:00",
      "link": "https://github.com/ohcnetwork/care_fe/issues/7854#issuecomment-2133038794",
      "text": "> > A simpler solution would be to show a notification when there are no home facility doctors available when the prefetch request completes. And maybe also modify the dropdown text to the following:\r\n> \r\n> To clarify, do you mean use the notification function with similar/same message in addition to changing the text under the drop down? Or just the latter?\r\n\r\n@rithviknishad Sorry about the ping, wanted some clarification."
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#7854",
      "time": "2024-05-23T10:13:53+00:00",
      "link": "https://github.com/ohcnetwork/care_fe/issues/7854#issuecomment-2126736338",
      "text": "> A simpler solution would be to show a notification when there are no home facility doctors available when the prefetch request completes. And maybe also modify the dropdown text to the following:\r\n\r\nTo clarify, do you mean use the notification function with similar/same message in addition to changing the text under the drop down? Or just the latter?"
    },
    {
      "type": "comment_created",
      "title": "ohcnetwork/care_fe#7854",
      "time": "2024-05-23T06:38:17+00:00",
      "link": "https://github.com/ohcnetwork/care_fe/issues/7854#issuecomment-2126342275",
      "text": "Mind assigning the issue to me? @nihal467 Thanks!\r\n\r\nOn an added note, some of the consultations are assigned to Dr. KUM sample user - so deselecting that would disable the field immediately since the user isn't a home facility doc. Would that be an issue?"
    },
    {
      "type": "pr_merged",
      "title": "ohcnetwork/care_fe#7914",
      "time": "2024-08-01T05:46:49Z",
      "link": "https://github.com/ohcnetwork/care_fe/pull/7914",
      "text": "Consultation Form Enhancement: No home facility docs"
    }
  ],
  "open_prs": [
    {
      "link": "https://github.com/ohcnetwork/care_fe/pull/8489",
      "title": "Remove tooltip after Cover Image Load",
      "stale_for": 0,
      "labels": [
        "stale"
      ]
    }
  ],
  "authored_issue_and_pr": []
}